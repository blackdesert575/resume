name: ci
# run-name: ${{ github.actor }} is testing out GitHub Actions ðŸš€
on: [push]

permissions:
  contents: write

jobs:
  build_latex:
    if: github.actor != 'github-actions[bot]'
    runs-on: ubuntu-latest
    steps:
      - name: Set up Git repository
        uses: actions/checkout@v6
      - name: Compile LaTeX document
        uses: xu-cheng/latex-action@v4
        with:
          root_file: src/yh_resume.tex
      - name: Build html
        uses: SichangHe/pdf2htmlEX-action@v0.0.2
        with:
          arguments: --zoom 1.3 --dest-dir output yh_resume.pdf index.html        
      # - name: Upload PDF file
      #   uses: actions/upload-artifact@v5
      #   with:
      #     name: PDF
      #     path: src/yh_resume.pdf
      - name: Run scripts/pipelines_ci.sh to update html
        run: ./scripts/pipelines_ci.sh      
      - uses: EndBug/add-and-commit@v9
        with:
          default_author: github_actions                